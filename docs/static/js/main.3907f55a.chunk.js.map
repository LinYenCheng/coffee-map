{"version":3,"sources":["components/Map.js","components/MenuBtn.js","actions/index.js","config.js","containers/MenuNav.js","api/APICoffee.js","components/SearchElastic.js","containers/Layout.js","reducers/isMenuOpen.js","reducers/item.js","reducers/items.js","reducers/checkedCities.js","reducers/checkedConditions.js","reducers/index.js","index.js"],"names":["getStars","num","PopupMarker","props","Marker","ref","leafletElement","openPopup","SimpleExample","position","isMenuOpen","toggleMenu","item","items","latitude","longitude","url","name","address","wifi","seat","quiet","tasty","cheap","music","positionMarker","parseFloat","isUrl","popMarker","markers","filter","nowItem","lat","map","index","opacity","lng","Popup","dangerouslySetInnerHTML","__html","popup","type","autoPan","style","fontWeight","fontSize","href","Map","center","zoom","maxZoom","zoomControl","animate","onClick","TileLayer","attribution","MenuBtn","id","e","clickButton","preventDefault","className","toggleCondition","checkedConditions","payload","cities","displayName","checked","conditions","connect","state","checkedCities","setPosition","dispatch","blockList","city","onChange","tempCheckedCities","slice","toggleCheck","htmlFor","blockConditionList","condition","tempCheckedConditions","indexSearch","lunr","window","this","field","arrResultCities","coffeeShops","getShops","a","nowCity","axios","get","process","res","data","forEach","shop","add","strSocket","socket","quietAways","wifiGood","Promise","all","isChecked","length","tempShops","coffeeShop","concat","keyWord","finalResult","toString","trim","search","results","searchResults","result","indexOf","APICoffee","getCoffee","searchWithKeyWord","SearchElastic","onHover","blockCards","inputEl","useRef","useState","page","setPage","setItems","displayItems","setDisplayItems","strInput","setStrInput","strCheckedConditions","join","searchWithKeyword","useCallback","event","onSelect","current","blur","useEffect","role","onFocus","onTouchMove","limited_time","open_time","placeholderCondition","blockSearch","viewBox","cx","cy","r","d","onSubmit","value","target","onKeyPress","key","placeholder","onScroll","scrollTop","clientHeight","Layout","setItem","isLoading","setIsLoading","itemCoffee","itemsCoffee","strClassMenuOpen","blockLoading","nowCheckedCities","console","log","arrResult","nowItemCoffee","_item","defaultProps","action","defaultCheckedCities","newState","defaultCheckedConditions","mapApp","combineReducers","middlewares","createLogger","thunkMiddleware","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","store","createStore","reducer","render","document","getElementById","i","s","o","m","_gaDomain","location","host","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","ga"],"mappings":"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","file":"static/js/main.3907f55a.chunk.js","sourcesContent":["/* eslint-disable */\n\nimport React from 'react';\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet';\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\nimport PropTypes from 'prop-types';\n\nfunction getStars(num) {\n  switch (num) {\n    case 5:\n      return '★★★★★';\n    case 4:\n      return '★★★★';\n    case 3:\n      return '★★★';\n    case 2:\n      return '★★';\n    default:\n      return '★';\n  }\n}\n\nconst PopupMarker = props => {\n  const initMarker = ref => {\n    if (ref) {\n      ref.leafletElement.openPopup();\n    }\n  };\n\n  return <Marker ref={initMarker} {...props} />;\n};\n\nfunction SimpleExample({ position, isMenuOpen, toggleMenu, item, items }) {\n  const { latitude, longitude, url, name, address, wifi, seat, quiet, tasty, cheap, music } = item;\n  const positionMarker = [parseFloat(latitude), parseFloat(longitude)];\n  // const position = [24.8, 121.023];\n  const isUrl = !!url;\n  let popMarker = null;\n  const markers = items\n    .filter(nowItem => nowItem.lat)\n    .map((nowItem, index) => (\n      <Marker\n        key={`${nowItem.lat}${nowItem.lng}${index}`}\n        opacity={0.6}\n        position={[parseFloat(nowItem.lat), parseFloat(nowItem.lng)]}\n      >\n        <Popup>\n          <div dangerouslySetInnerHTML={{ __html: nowItem.popup }} />\n        </Popup>\n      </Marker>\n    ));\n\n  if (latitude) {\n    popMarker = (\n      <button type=\"button\">\n        <PopupMarker position={positionMarker}>\n          <Popup autoPan>\n            <div>\n              <span style={{ fontWeight: 800, fontSize: '16px' }}>{name}</span>\n              <br />\n              <span>\n                {address}\n                <br />\n                {wifi > 0 ? `WIFI穩定: ${getStars(wifi)} ` : ' '}\n                {wifi > 0 ? <br /> : ''}\n                {seat > 0 ? `通常有位:  ${getStars(seat)} ` : ' '}\n                {seat > 0 ? <br /> : ''}\n                {quiet > 0 ? `安靜程度:  ${getStars(quiet)} ` : ' '}\n                {quiet > 0 ? <br /> : ''}\n                {tasty > 0 ? `咖啡好喝:  ${getStars(tasty)} ` : ' '}\n                {tasty > 0 ? <br /> : ''}\n                {cheap > 0 ? `價格便宜:  ${getStars(cheap)} ` : ' '}\n                {cheap > 0 ? <br /> : ''}\n                {music > 0 ? `裝潢音樂:  ${getStars(music)} ` : ' '}\n                {music > 0 ? <br /> : ''}\n              </span>\n              {isUrl ? <a href={url}>粉絲專頁</a> : ''}\n            </div>\n          </Popup>\n        </PopupMarker>\n      </button>\n    );\n  }\n  return (\n    <Map\n      center={position}\n      zoom={12}\n      maxZoom={18}\n      zoomControl={false}\n      animate\n      onClick={() => {\n        if (isMenuOpen) toggleMenu();\n      }}\n    >\n      <TileLayer\n        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n      {latitude && popMarker}\n      <MarkerClusterGroup>{markers}</MarkerClusterGroup>\n    </Map>\n  );\n}\n\nSimpleExample.propTypes = {\n  isMenuOpen: PropTypes.bool.isRequired,\n  toggleMenu: PropTypes.func.isRequired\n};\nexport default SimpleExample;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../styles/menu-btn.scss';\n\nconst MenuBtn = ({ toggleMenu }) => (\n  <button\n    type=\"button\"\n    id=\"menu-button\"\n    onClick={e => {\n      const clickButton = toggleMenu;\n      e.preventDefault();\n      clickButton();\n    }}\n  >\n    <div className=\"hamburger\">\n      <div className=\"inner\" />\n    </div>\n  </button>\n);\n\nMenuBtn.propTypes = {\n  toggleMenu: PropTypes.func.isRequired\n};\n\nexport default MenuBtn;\n","export const toggleMenu = () => ({\n  type: 'TOGGLE_MENU'\n});\n\nexport const toggleCheck = checkedCities => ({\n  type: 'TOGGLE_CHECK',\n  payload: checkedCities\n});\n\nexport const toggleCondition = checkedConditions => ({\n  type: 'TOGGLE_CONDITION',\n  payload: checkedConditions\n});\n\nexport const selcetPlace = id => ({\n  type: 'SELECT_PLACE',\n  id\n});\n\nexport const setPlaces = items => ({\n  type: 'ALL_PLACE',\n  items\n});\n","const cities = [\n  {\n    name: 'taipei',\n    displayName: '台北',\n    lng: 121.5598,\n    lat: 25.08,\n    checked: true\n  },\n  {\n    name: 'keelung',\n    displayName: '基隆',\n    lng: 121.7081,\n    lat: 25.10898,\n    checked: false\n  },\n  {\n    name: 'taoyuan',\n    displayName: '桃園',\n    lng: 121.300974,\n    lat: 24.993312,\n    checked: false\n  },\n  {\n    name: 'hsinchu',\n    displayName: '新竹',\n    lng: 120.9647,\n    lat: 24.80395,\n    checked: false\n  },\n  {\n    name: 'miaoli',\n    displayName: '苗栗',\n    lng: 120.820793,\n    lat: 24.565031,\n    checked: false\n  },\n  {\n    name: 'taichung',\n    displayName: '台中',\n    lng: 120.645756,\n    lat: 24.176912,\n    checked: false\n  },\n  {\n    name: 'changhua',\n    displayName: '彰化',\n    lng: 120.4818,\n    lat: 23.99297,\n    checked: false\n  },\n  {\n    name: 'nantou',\n    displayName: '南投',\n    lng: 120.9876,\n    lat: 23.83876,\n    checked: false\n  },\n  {\n    name: 'yunlin',\n    displayName: '雲林',\n    lng: 120.3897,\n    lat: 23.75585,\n    checked: false\n  },\n  {\n    name: 'chiayi',\n    displayName: '嘉義',\n    lng: 120.574,\n    lat: 23.45889,\n    checked: false\n  },\n  {\n    name: 'tainan',\n    displayName: '台南',\n    lng: 120.1851,\n    lat: 23.005181,\n    checked: false\n  },\n  {\n    name: 'kaohsiung',\n    displayName: '高雄',\n    lng: 120.312019,\n    lat: 22.623045,\n    checked: false\n  },\n  {\n    name: 'pingtung',\n    displayName: '屏東',\n    lng: 120.62,\n    lat: 22.54951,\n    checked: false\n  },\n  {\n    name: 'yilan',\n    displayName: '宜蘭',\n    lng: 121.7195,\n    lat: 24.69295,\n    checked: false\n  },\n  {\n    name: 'hualien',\n    displayName: '花蓮',\n    lng: 121.3542,\n    lat: 23.7569,\n    checked: false\n  },\n  {\n    name: 'taitung',\n    displayName: '台東',\n    lng: 120.9876,\n    lat: 22.98461,\n    checked: false\n  },\n  {\n    name: 'penghu',\n    displayName: '澎湖',\n    lng: 119.6151,\n    lat: 23.56548,\n    checked: false\n  }\n];\n\nconst conditions = [\n  {\n    name: 'socket',\n    displayName: '插座',\n    checked: false\n  },\n  {\n    name: 'quiet',\n    displayName: '安靜',\n    checked: false\n  },\n  {\n    name: 'wifi',\n    displayName: '網路',\n    checked: false\n  }\n];\n\nexport { cities, conditions };\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport '../styles/menu-nav.scss';\n\nimport { toggleCheck, toggleCondition } from '../actions';\nimport { cities, conditions } from '../config';\n\nfunction MenuNav({ setPosition, checkedCities, checkedConditions, dispatch, toggleMenu }) {\n  const blockList = cities.map((city, index) => (\n    <li className=\"nav__li\" key={city.name}>\n      <input\n        id={city.name}\n        type=\"checkbox\"\n        checked={checkedCities[index]}\n        onChange={() => {\n          const tempCheckedCities = checkedCities.slice();\n          tempCheckedCities[index] = !checkedCities[index];\n          if (!checkedCities[index]) setPosition([city.lat, city.lng]);\n          dispatch(toggleCheck(tempCheckedCities));\n          toggleMenu();\n        }}\n      />\n      <label htmlFor={city.name} className=\"nav__label\">\n        {city.displayName}\n      </label>\n    </li>\n  ));\n  const blockConditionList = conditions.map((condition, index) => (\n    <li className=\"nav__li\" key={condition.name}>\n      <input\n        id={condition.name}\n        type=\"checkbox\"\n        checked={checkedConditions[index]}\n        onChange={() => {\n          const tempCheckedConditions = checkedConditions.slice();\n          tempCheckedConditions[index] = !checkedConditions[index];\n          // console.log(tempCheckedConditions, index);\n          dispatch(toggleCondition(tempCheckedConditions));\n          toggleMenu();\n        }}\n      />\n      <label htmlFor={condition.name} className=\"nav__label nav__label--condition\">\n        {condition.displayName}\n      </label>\n    </li>\n  ));\n\n  return (\n    <nav>\n      <ul>\n        {blockConditionList}\n        <br />\n        {blockList}\n      </ul>\n    </nav>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    checkedCities: state.checkedCities,\n    checkedConditions: state.checkedConditions\n  };\n}\n\nexport default connect(mapStateToProps)(MenuNav);\n","import axios from 'axios';\n\nimport { cities } from '../config';\n\nconst { lunr } = window;\nconst indexSearch = lunr(function generateLunr() {\n  this.field('name');\n  this.field('address');\n  this.field('strSocket');\n  this.field('quietAways');\n  this.field('wifiGood');\n});\n\nconst arrResultCities = cities.map(city => {\n  if (city.coffeeShops) {\n    return city;\n  }\n  return { ...city, coffeeShops: [] };\n});\n\nconst getShops = async city => {\n  const nowCity = { ...city };\n  const res = await axios.get(`${process.env.PUBLIC_URL}/cafedata/${nowCity.name}.json`);\n  if (res.data) {\n    res.data.forEach(shop => {\n      indexSearch.add({\n        ...shop,\n        strSocket: shop && shop.socket === 'yes' ? '插座' : '',\n        quietAways: shop && shop.quiet > 3 ? '安靜' : '',\n        wifiGood: shop && shop.wifi > 3 ? '網路' : ''\n      });\n      // console.log({\n      //   ...shop,\n      //   strSocket: shop && shop.socket === 'yes' ? '插座' : '',\n      //   quietAways: shop && shop.quiet > 3 ? '安靜' : '',\n      //   wifiGood: shop && shop.wifi > 3 ? '網路' : '',\n      // });\n      // indexSearch.add(shop);\n    });\n    nowCity.coffeeShops = res.data;\n    nowCity.checked = true;\n    return nowCity;\n  }\n  return nowCity;\n};\n\nasync function getCoffee(checkedCities) {\n  const coffeeShops = await Promise.all(\n    checkedCities.map((isChecked, index) => {\n      if (isChecked && !arrResultCities[index].coffeeShops.length) {\n        // console.log('get', arrResultCities[index].name);\n        const res = getShops(arrResultCities[index]);\n        return res;\n      }\n      if (!isChecked) arrResultCities[index].checked = false;\n      if (isChecked) arrResultCities[index].checked = true;\n      return arrResultCities[index];\n    })\n  );\n  let tempShops = [];\n  // console.log(coffeeShops);\n  coffeeShops.forEach(coffeeShop => {\n    if (coffeeShop.checked) tempShops = tempShops.concat(coffeeShop.coffeeShops);\n  });\n  return tempShops;\n}\n\nasync function searchWithKeyWord(keyWord) {\n  let finalResult = [];\n  if (keyWord.toString().trim() !== '') {\n    // console.log(keyWord);\n    const results = await indexSearch.search(keyWord);\n    if (results && results.length) {\n      const searchResults = results.map(result => result.ref);\n      let tempShops = [];\n      arrResultCities\n        .filter(city => city.checked)\n        .forEach(city => {\n          tempShops = tempShops.concat(city.coffeeShops);\n        });\n      tempShops = tempShops.filter(coffeeShop => searchResults.indexOf(coffeeShop.id) !== -1);\n      finalResult = tempShops;\n    }\n  }\n  return finalResult;\n}\n\nconst APICoffee = {\n  getCoffee,\n  searchWithKeyWord\n};\n\nexport default APICoffee;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport APICoffee from '../api/APICoffee';\nimport { conditions } from '../config';\n\nfunction SearchElastic({ onHover, checkedConditions, nowItem, toggleCondition }) {\n  let blockCards = '';\n  const inputEl = useRef(null);\n  const intPageSize = 10;\n  const [page, setPage] = useState(1);\n  const [items, setItems] = useState([]);\n  const [displayItems, setDisplayItems] = useState([]);\n  const [strInput, setStrInput] = useState('');\n  const strCheckedConditions = conditions\n    .filter((condition, index) => checkedConditions[index])\n    .map(condition => condition.displayName)\n    .join(' ');\n\n  const searchWithKeyword = useCallback(\n    async event => {\n      if (event) event.preventDefault();\n      const result = await APICoffee.searchWithKeyWord(`${strCheckedConditions} ${strInput}`);\n      setItems(result);\n    },\n    [strCheckedConditions, strInput]\n  );\n\n  function handleChange(event) {\n    setStrInput(event.target.value);\n  }\n\n  function handleKeyPress(event) {\n    if (event.key === 'Enter') {\n      inputEl.current.blur();\n    }\n  }\n\n  function onSelect(item) {\n    if (item && nowItem && item.id !== nowItem.id) {\n      // console.log(item);\n      onHover(item);\n      inputEl.current.blur();\n    }\n  }\n\n  function clearSearch() {\n    toggleCondition();\n    setStrInput('');\n    setDisplayItems([]);\n  }\n\n  function handleScroll(e) {\n    if (e.target.scrollTop > e.target.clientHeight * page && items.length > intPageSize * page) {\n      setPage(page + 1);\n    }\n  }\n\n  useEffect(() => {\n    if (strInput === '') {\n      searchWithKeyword();\n    }\n  }, [strInput, searchWithKeyword]);\n\n  useEffect(() => {\n    if (strCheckedConditions !== '') {\n      searchWithKeyword();\n    }\n  }, [strCheckedConditions, searchWithKeyword]);\n\n  useEffect(() => {\n    if (items.length) {\n      setDisplayItems(items.slice(0, intPageSize * page));\n    }\n  }, [items, page]);\n\n  if (displayItems.length) {\n    blockCards = displayItems.map(item => (\n      <div\n        role=\"presentation\"\n        key={item.id}\n        className=\"card\"\n        onClick={() => {\n          onSelect(item);\n          inputEl.current.blur();\n        }}\n        onFocus={() => {\n          onSelect(item);\n        }}\n        // onMouseOver={() => {\n        //   onSelect(item);\n        // }}\n        onTouchMove={() => {\n          onSelect(item);\n        }}\n        // onPointerOver={() => {\n        //   onSelect(item);\n        // }}\n      >\n        <h4>{item.name}</h4>\n        <ul>\n          <li>\n            <ol>\n              {item.limited_time === 'no' ? <li>無限時</li> : ''}\n              {item.socket !== '' || item.socket !== 'no' ? <li>插座</li> : ''}\n              {item.wifi > 3 ? <li>WIFI</li> : ''}\n              {item.quiet > 3 ? <li>較安靜</li> : ''}\n              {item.cheap > 3 ? <li>較便宜</li> : ''}\n            </ol>\n          </li>\n          <li>{`地址:${item.address}`}</li>\n          {item.open_time ? <li>{`營業時間: ${item.open_time}`}</li> : ''}\n          <li>\n            <a href={item.url}>粉絲專頁</a>\n          </li>\n        </ul>\n      </div>\n    ));\n  }\n  let placeholderCondition = '輸入店名 地址';\n  if (strCheckedConditions) {\n    placeholderCondition = `查詢條件:${strCheckedConditions}`;\n  }\n  let blockSearch = (\n    <button type=\"submit\" className=\"btn search__button\" onClick={searchWithKeyword}>\n      <svg viewBox=\"0 0 100 100\">\n        <circle id=\"circle\" cx=\"45\" cy=\"45\" r=\"30\" />\n        <path id=\"line\" d=\"M45,45 L100,100\" />\n      </svg>\n    </button>\n  );\n\n  if (strInput !== '' || strCheckedConditions !== '') {\n    blockSearch = (\n      <button type=\"button\" className=\"btn search__button\" onClick={clearSearch}>\n        <span>✕</span>\n      </button>\n    );\n  }\n\n  return (\n    <form onSubmit={searchWithKeyword}>\n      <input\n        value={strInput}\n        onChange={handleChange}\n        ref={inputEl}\n        onClick={() => {\n          searchWithKeyword();\n        }}\n        onKeyPress={handleKeyPress}\n        placeholder={`${placeholderCondition}`}\n      />\n      <div className=\"search__result\" onScroll={handleScroll}>\n        {blockCards}\n      </div>\n      {blockSearch}\n    </form>\n  );\n}\n\nexport default SearchElastic;\n","/* eslint-disable */\n\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport Map from '../components/Map';\n// import Search from '../components/Search';\nimport MenuBtn from '../components/MenuBtn';\nimport MenuNav from './MenuNav';\n\nimport '../styles/search.scss';\nimport { toggleMenu, toggleCondition } from '../actions';\nimport APICoffee from '../api/APICoffee';\nimport SearchElastic from '../components/SearchElastic';\n\nfunction Layout({ isMenuOpen, checkedCities, checkedConditions, toggleMenu, toggleCondition }) {\n  const [item, setItem] = useState({\n    name: '搜尋想去的咖啡店~',\n    address: '顯示地址及粉專'\n  });\n  const [position, setPosition] = useState({ lng: 121.5598, lat: 25.08 });\n  const [items, setItems] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const itemCoffee = item;\n  let itemsCoffee = items;\n  const strClassMenuOpen = isMenuOpen ? 'menu-open' : '';\n\n  let blockLoading = '';\n\n  function getStars(num) {\n    switch (num) {\n      case 5:\n        return '★★★★★';\n      case 4:\n        return '★★★★';\n      case 3:\n        return '★★★';\n      case 2:\n        return '★★';\n      default:\n        return '★';\n    }\n  }\n\n  function handleHover(_item) {\n    if (item && _item && item.id !== _item.id) {\n      setItem(_item);\n    }\n  }\n\n  function handleSelect(_item) {\n    // console.log(_item);\n    if (item && _item && item.id !== _item.id) {\n      setItem(_item);\n    }\n    toggleCondition();\n  }\n\n  async function getCoffee(nowCheckedCities) {\n    setIsLoading(true);\n    console.log('loading');\n    const arrResult = await APICoffee.getCoffee(nowCheckedCities);\n    console.log('loading done');\n    setIsLoading(false);\n    setItems(arrResult);\n  }\n\n  useEffect(() => {\n    getCoffee(checkedCities);\n  }, [checkedCities]);\n\n  if (items.length === 0) {\n    itemsCoffee = [\n      {\n        lat: 24.8,\n        lng: 121.023,\n        popup: '<div><span>目前尚未選擇任何地點<br/>請按左方功能鍵進入選單選擇XD<br/></span></div>'\n      }\n    ];\n  } else {\n    itemsCoffee = items.map(nowItemCoffee => {\n      const {\n        latitude,\n        longitude,\n        name,\n        address,\n        wifi,\n        seat,\n        quiet,\n        tasty,\n        cheap,\n        music\n      } = nowItemCoffee;\n      return {\n        lat: parseFloat(latitude),\n        lng: parseFloat(longitude),\n        popup: `<div>\n            <span style=${{ fontWeight: 800, fontSize: '16px' }}>${name}</span><br /> \n            <span>\n            ${address}<br />\n            ${wifi > 0 ? `WIFI穩定: ${getStars(wifi)}` : ''} ${wifi > 0 ? '<br />' : ''}\n            ${seat > 0 ? `通常有位:  ${getStars(seat)}` : ''} ${seat > 0 ? '<br />' : ''}\n            ${quiet > 0 ? `安靜程度:  ${getStars(quiet)}` : ''} ${quiet > 0 ? '<br />' : ''}\n            ${tasty > 0 ? `咖啡好喝:  ${getStars(tasty)}` : ''} ${tasty > 0 ? '<br />' : ''}\n            ${cheap > 0 ? `價格便宜:  ${getStars(cheap)}` : ''} ${cheap > 0 ? '<br />' : ''}\n            ${music > 0 ? `裝潢音樂:  ${getStars(music)}` : ''} ${music > 0 ? '<br />' : ''}\n            </span>\n            ${item.url ? `<a href=${item.url}>粉絲專頁</a>` : ''}\n          </div>`\n      };\n    });\n  }\n\n  if (isLoading) {\n    blockLoading = (\n      <div className=\"loading__overlay\">\n        <div className=\"loading__content\">\n          <div className=\"loader\">Loading...</div>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"app\">\n      {blockLoading}\n      <div className={strClassMenuOpen}>\n        <div className=\"search-container\">\n          {/* <Search items={items} onChange={handleSelect} /> */}\n          <SearchElastic\n            nowItem={item}\n            toggleCondition={toggleCondition}\n            checkedConditions={checkedConditions}\n            onChange={handleSelect}\n            onHover={handleHover}\n          />\n        </div>\n        <MenuNav toggleMenu={toggleMenu} setPosition={setPosition} />\n        <MenuBtn toggleMenu={toggleMenu} />\n      </div>\n      <Map\n        position={position}\n        item={itemCoffee}\n        items={itemsCoffee}\n        isMenuOpen={isMenuOpen}\n        toggleMenu={toggleMenu}\n      />\n    </div>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    isMenuOpen: state.isMenuOpen,\n    checkedCities: state.checkedCities,\n    checkedConditions: state.checkedConditions\n  };\n}\n\nconst mapDispatchToProps = dispatch => ({\n  //\n  toggleCondition: () => dispatch(toggleCondition()),\n  toggleMenu: () => dispatch(toggleMenu())\n});\n\nLayout.defaultProps = {\n  name: 'Gary'\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout);\n","const isMenuOpen = (state = false, action) => {\n  switch (action.type) {\n    case 'TOGGLE_MENU':\n      return !state;\n    default:\n      return state;\n  }\n};\n\nexport default isMenuOpen;\n","const item = (\n  state = {\n    name: '搜尋想去的咖啡店~',\n    address: '顯示地址及粉專'\n  },\n  action\n) => {\n  switch (action.type) {\n    case 'SELECT_PLACE':\n      return {\n        name: '搜尋想去的咖啡店~1',\n        address: '顯示地址及粉專'\n      };\n    default:\n      return state;\n  }\n};\n\nexport default item;\n","const items = (state = [], action) => {\n  switch (action.type) {\n    case 'ALL_PLACE':\n      return [...state];\n    default:\n      return state;\n  }\n};\n\nexport default items;\n","import { cities } from '../config';\n\nconst defaultCheckedCities = cities.map(city => city.checked);\n\nconst checkedCities = (state = defaultCheckedCities, action) => {\n  switch (action.type) {\n    case 'TOGGLE_CHECK': {\n      const newState = [...action.payload];\n      return newState;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default checkedCities;\n","import { conditions } from '../config';\n\nconst defaultCheckedConditions = conditions.map(condition => condition.checked);\n\nconst checkedConditions = (state = defaultCheckedConditions, action) => {\n  switch (action.type) {\n    case 'TOGGLE_CONDITION': {\n      const newState = action.payload ? [...action.payload] : defaultCheckedConditions;\n      return newState;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default checkedConditions;\n","import { combineReducers } from 'redux';\n\nimport isMenuOpen from './isMenuOpen';\nimport item from './item';\nimport items from './items';\n\nimport checkedCities from './checkedCities';\nimport checkedConditions from './checkedConditions';\n\nconst mapApp = combineReducers({\n  checkedCities,\n  checkedConditions,\n  isMenuOpen,\n  item,\n  items\n});\n\nexport default mapApp;\n","/* eslint-disable  */\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\n// Logger with default options\nimport { createLogger } from 'redux-logger';\nimport thunkMiddleware from 'redux-thunk';\nimport Layout from './containers/Layout';\n\nimport './styles/index.scss';\n\nimport reducer from './reducers';\n\nconst loggerMiddleware = createLogger();\nconst middlewares =\n  process.env.NODE_ENV === 'development' ? [loggerMiddleware, thunkMiddleware] : [thunkMiddleware];\nconst composeEnhancers =\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\n      })\n    : compose;\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(...middlewares)\n  // other store enhancers if any\n);\nconst store = createStore(reducer, enhancer);\n\nrender(\n  <Provider store={store}>\n    <Layout />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// dynamic User by Hux\nvar _gaId = 'UA-106834789-1';\nvar _gaDomain = 'linyencheng.github.io';\n\nif (window.location.host === _gaDomain) {\n  // Originial\n  (function(i, s, o, g, r, a, m) {\n    i['GoogleAnalyticsObject'] = r;\n    (i[r] =\n      i[r] ||\n      function() {\n        (i[r].q = i[r].q || []).push(arguments);\n      }),\n      (i[r].l = 1 * new Date());\n    (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);\n    a.async = 1;\n    a.src = g;\n    m.parentNode.insertBefore(a, m);\n  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\n  if (window.ga) {\n    const { ga } = window;\n    ga('create', _gaId, _gaDomain);\n    ga('send', 'pageview');\n  }\n}\n"],"sourceRoot":""}