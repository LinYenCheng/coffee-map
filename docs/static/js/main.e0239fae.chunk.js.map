{"version":3,"sources":["components/Map.js","components/MenuBtn.js","actions/index.js","config.js","containers/MenuNav.js","api/APICoffee.js","components/SearchElastic.js","containers/Layout.js","reducers/isMenuOpen.js","reducers/item.js","reducers/items.js","reducers/checkedCities.js","reducers/checkedConditions.js","reducers/index.js","index.js"],"names":["getStars","num","PopupMarker","position","item","isActive","map","url","name","address","wifi","seat","quiet","tasty","cheap","music","useState","refReady","setRefReady","popupRef","useRef","useEffect","openOn","panTo","lat","lng","Marker","Popup","ref","r","style","fontWeight","fontSize","href","MyMap","isMenuOpen","toggleMenu","useMapEvent","SimpleExample","items","setMap","latitude","longitude","positionMarker","parseFloat","markers","filter","nowItem","index","opacity","dangerouslySetInnerHTML","__html","popup","MapContainer","center","zoom","maxZoom","zoomControl","animate","whenCreated","TileLayer","attribution","data","MenuBtn","type","id","onClick","e","clickButton","preventDefault","className","toggleCondition","checkedConditions","payload","cities","displayName","checked","conditions","connect","state","checkedCities","setPosition","dispatch","blockList","city","onChange","tempCheckedCities","slice","toggleCheck","htmlFor","blockConditionList","condition","tempCheckedConditions","indexSearch","lunr","window","this","field","arrResultCities","coffeeShops","getShops","a","axios","get","process","res","forEach","shop","add","strSocket","socket","quietAways","wifiGood","Promise","all","isChecked","length","tempShops","coffeeShop","concat","keyWord","finalResult","toString","trim","search","results","searchResults","result","indexOf","APICoffee","getCoffee","searchWithKeyWord","SearchElastic","onHover","blockCards","inputEl","page","setPage","setItems","displayItems","setDisplayItems","strInput","setStrInput","strCheckedConditions","join","searchWithKeyword","useCallback","event","onSelect","current","blur","role","onFocus","onTouchMove","limited_time","open_time","placeholderCondition","blockSearch","viewBox","cx","cy","d","onSubmit","value","target","onKeyPress","key","placeholder","onScroll","scrollTop","clientHeight","Layout","setItem","isLoading","setIsLoading","itemCoffee","itemsCoffee","strClassMenuOpen","blockLoading","nowCheckedCities","arrResult","nowItemCoffee","_item","Map","defaultProps","action","defaultCheckedCities","newState","defaultCheckedConditions","mapApp","combineReducers","createLogger","middlewares","thunkMiddleware","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","store","createStore","reducer","render","document","getElementById"],"mappings":"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CE,qBAAKA,UAAU,gBCNRC,G,MAAkB,SAACC,GAAD,MAAwB,CACrDR,KAAM,mBACNS,QAASD,KCXLE,EAAS,CACb,CACElE,KAAM,SACNmE,YAAa,eACblD,IAAK,SACLD,IAAK,MACLoD,SAAS,GAEX,CACEpE,KAAM,UACNmE,YAAa,eACblD,IAAK,SACLD,IAAK,SACLoD,SAAS,GAEX,CACEpE,KAAM,UACNmE,YAAa,eACblD,IAAK,WACLD,IAAK,UACLoD,SAAS,GAEX,CACEpE,KAAM,UACNmE,YAAa,eACblD,IAAK,SACLD,IAAK,SACLoD,SAAS,GAEX,CACEpE,KAAM,SACNmE,YAAa,eACblD,IAAK,WACLD,IAAK,UACLoD,SAAS,GAEX,CACEpE,KAAM,WACNmE,YAAa,eACblD,IAAK,WACLD,IAAK,UACLoD,SAAS,GAEX,CACEpE,KAAM,WACNmE,YAAa,eACblD,IAAK,SACLD,IAAK,SACLoD,SAAS,GAEX,CACEpE,KAAM,SACNmE,YAAa,eACblD,IAAK,SACLD,IAAK,SACLoD,SAAS,GAEX,CACEpE,KAAM,SACNmE,YAAa,eACblD,IAAK,SACLD,IAAK,SACLoD,SAAS,GAEX,CACEpE,KAAM,SACNmE,YAAa,eACblD,IAAK,QACLD,IAAK,SACLoD,SAAS,GAEX,CACEpE,KAAM,SACNmE,YAAa,eACblD,IAAK,SACLD,IAAK,UACLoD,SAAS,GAEX,CACEpE,KAAM,YACNmE,YAAa,eACblD,IAAK,WACLD,IAAK,UACLoD,SAAS,GAEX,CACEpE,KAAM,WACNmE,YAAa,eACblD,IAAK,OACLD,IAAK,SACLoD,SAAS,GAEX,CACEpE,KAAM,QACNmE,YAAa,eACblD,IAAK,SACLD,IAAK,SACLoD,SAAS,GAEX,CACEpE,KAAM,UACNmE,YAAa,eACblD,IAAK,SACLD,IAAK,QACLoD,SAAS,GAEX,CACEpE,KAAM,UACNmE,YAAa,eACblD,IAAK,SACLD,IAAK,SACLoD,SAAS,GAEX,CACEpE,KAAM,SACNmE,YAAa,eACblD,IAAK,SACLD,IAAK,SACLoD,SAAS,IAIPC,EAAa,CACjB,CACErE,KAAM,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","file":"static/js/main.e0239fae.chunk.js","sourcesContent":["/* eslint-disable react/no-danger */\nimport React, { useState, useRef, useEffect } from 'react';\nimport { MapContainer, Marker, Popup, TileLayer, useMapEvent } from 'react-leaflet';\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\nimport PropTypes from 'prop-types';\n\nfunction getStars(num) {\n  switch (num) {\n    case 5:\n      return '★★★★★';\n    case 4:\n      return '★★★★';\n    case 3:\n      return '★★★';\n    case 2:\n      return '★★';\n    default:\n      return '★';\n  }\n}\n\nconst PopupMarker = ({ position, item, isActive, map }) => {\n  const { url, name, address, wifi, seat, quiet, tasty, cheap, music } = item;\n  const [refReady, setRefReady] = useState(false);\n  let popupRef = useRef();\n\n  useEffect(() => {\n    if (refReady && isActive) {\n      popupRef.openOn(map);\n      map.panTo({ lat: position[0], lng: position[1] });\n    }\n  }, [isActive, refReady, map, position]);\n  if (!isActive) return null;\n\n  return (\n    <Marker position={{ lat: position[0], lng: position[1] }}>\n      <Popup\n        ref={(r) => {\n          popupRef = r;\n          setRefReady(true);\n        }}\n      >\n        <div>\n          <span style={{ fontWeight: 800, fontSize: '16px' }}>{name}</span>\n          <br />\n          <span>\n            {address}\n            <br />\n            {wifi > 0 ? `WIFI穩定: ${getStars(wifi)} ` : ' '}\n            {wifi > 0 ? <br /> : ''}\n            {seat > 0 ? `通常有位:  ${getStars(seat)} ` : ' '}\n            {seat > 0 ? <br /> : ''}\n            {quiet > 0 ? `安靜程度:  ${getStars(quiet)} ` : ' '}\n            {quiet > 0 ? <br /> : ''}\n            {tasty > 0 ? `咖啡好喝:  ${getStars(tasty)} ` : ' '}\n            {tasty > 0 ? <br /> : ''}\n            {cheap > 0 ? `價格便宜:  ${getStars(cheap)} ` : ' '}\n            {cheap > 0 ? <br /> : ''}\n            {music > 0 ? `裝潢音樂:  ${getStars(music)} ` : ' '}\n            {music > 0 ? <br /> : ''}\n          </span>\n          {url ? <a href={url}>粉絲專頁</a> : ''}\n        </div>\n      </Popup>\n    </Marker>\n  );\n};\n\nfunction MyMap({ isMenuOpen, toggleMenu }) {\n  // eslint-disable-next-line no-unused-vars\n  const map = useMapEvent('click', () => {\n    if (isMenuOpen) toggleMenu();\n  });\n  return null;\n}\n\nfunction SimpleExample({ position, isMenuOpen, toggleMenu, item, items }) {\n  const [map, setMap] = useState();\n  const { latitude, longitude } = item;\n  const positionMarker = [parseFloat(latitude), parseFloat(longitude)];\n  // const position = [24.8, 121.023];\n  const markers = items\n    .filter((nowItem) => nowItem.lat)\n    .map((nowItem, index) => (\n      <Marker\n        key={`${nowItem.lat}${nowItem.lng}${index}`}\n        opacity={0.6}\n        position={[parseFloat(nowItem.lat), parseFloat(nowItem.lng)]}\n      >\n        <Popup>\n          <div dangerouslySetInnerHTML={{ __html: nowItem.popup }} />\n        </Popup>\n      </Marker>\n    ));\n\n  return (\n    <MapContainer\n      center={position}\n      zoom={12}\n      maxZoom={18}\n      zoomControl={false}\n      animate\n      whenCreated={setMap}\n    >\n      <MyMap isMenuOpen={isMenuOpen} toggleMenu={toggleMenu} />\n      <TileLayer\n        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n      <PopupMarker\n        position={positionMarker}\n        map={map}\n        data={{\n          position: [20.27, -156],\n        }}\n        item={item}\n        isActive={latitude && item.name}\n      />\n      <MarkerClusterGroup>{markers}</MarkerClusterGroup>\n    </MapContainer>\n  );\n}\n\nSimpleExample.propTypes = {\n  isMenuOpen: PropTypes.bool.isRequired,\n  toggleMenu: PropTypes.func.isRequired,\n};\nexport default SimpleExample;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../styles/menu-btn.scss';\n\nconst MenuBtn = ({ toggleMenu }) => (\n  <button\n    type=\"button\"\n    id=\"menu-button\"\n    onClick={(e) => {\n      const clickButton = toggleMenu;\n      e.preventDefault();\n      clickButton();\n    }}\n  >\n    <div className=\"hamburger\">\n      <div className=\"inner\" />\n    </div>\n  </button>\n);\n\nMenuBtn.propTypes = {\n  toggleMenu: PropTypes.func.isRequired,\n};\n\nexport default MenuBtn;\n","export const toggleMenu = () => ({\n  type: 'TOGGLE_MENU',\n});\n\nexport const toggleCheck = (checkedCities) => ({\n  type: 'TOGGLE_CHECK',\n  payload: checkedCities,\n});\n\nexport const toggleCondition = (checkedConditions) => ({\n  type: 'TOGGLE_CONDITION',\n  payload: checkedConditions,\n});\n\nexport const selcetPlace = (id) => ({\n  type: 'SELECT_PLACE',\n  id,\n});\n\nexport const setPlaces = (items) => ({\n  type: 'ALL_PLACE',\n  items,\n});\n","const cities = [\n  {\n    name: 'taipei',\n    displayName: '台北',\n    lng: 121.5598,\n    lat: 25.08,\n    checked: true,\n  },\n  {\n    name: 'keelung',\n    displayName: '基隆',\n    lng: 121.7081,\n    lat: 25.10898,\n    checked: false,\n  },\n  {\n    name: 'taoyuan',\n    displayName: '桃園',\n    lng: 121.300974,\n    lat: 24.993312,\n    checked: false,\n  },\n  {\n    name: 'hsinchu',\n    displayName: '新竹',\n    lng: 120.9647,\n    lat: 24.80395,\n    checked: false,\n  },\n  {\n    name: 'miaoli',\n    displayName: '苗栗',\n    lng: 120.820793,\n    lat: 24.565031,\n    checked: false,\n  },\n  {\n    name: 'taichung',\n    displayName: '台中',\n    lng: 120.645756,\n    lat: 24.176912,\n    checked: false,\n  },\n  {\n    name: 'changhua',\n    displayName: '彰化',\n    lng: 120.4818,\n    lat: 23.99297,\n    checked: false,\n  },\n  {\n    name: 'nantou',\n    displayName: '南投',\n    lng: 120.9876,\n    lat: 23.83876,\n    checked: false,\n  },\n  {\n    name: 'yunlin',\n    displayName: '雲林',\n    lng: 120.3897,\n    lat: 23.75585,\n    checked: false,\n  },\n  {\n    name: 'chiayi',\n    displayName: '嘉義',\n    lng: 120.574,\n    lat: 23.45889,\n    checked: false,\n  },\n  {\n    name: 'tainan',\n    displayName: '台南',\n    lng: 120.1851,\n    lat: 23.005181,\n    checked: false,\n  },\n  {\n    name: 'kaohsiung',\n    displayName: '高雄',\n    lng: 120.312019,\n    lat: 22.623045,\n    checked: false,\n  },\n  {\n    name: 'pingtung',\n    displayName: '屏東',\n    lng: 120.62,\n    lat: 22.54951,\n    checked: false,\n  },\n  {\n    name: 'yilan',\n    displayName: '宜蘭',\n    lng: 121.7195,\n    lat: 24.69295,\n    checked: false,\n  },\n  {\n    name: 'hualien',\n    displayName: '花蓮',\n    lng: 121.3542,\n    lat: 23.7569,\n    checked: false,\n  },\n  {\n    name: 'taitung',\n    displayName: '台東',\n    lng: 120.9876,\n    lat: 22.98461,\n    checked: false,\n  },\n  {\n    name: 'penghu',\n    displayName: '澎湖',\n    lng: 119.6151,\n    lat: 23.56548,\n    checked: false,\n  },\n];\n\nconst conditions = [\n  {\n    name: 'socket',\n    displayName: '插座',\n    checked: false,\n  },\n  {\n    name: 'quiet',\n    displayName: '安靜',\n    checked: false,\n  },\n  {\n    name: 'wifi',\n    displayName: '網路',\n    checked: false,\n  },\n];\n\nexport { cities, conditions };\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport '../styles/menu-nav.scss';\n\nimport { toggleCheck, toggleCondition } from '../actions';\nimport { cities, conditions } from '../config';\n\nfunction MenuNav({ setPosition, checkedCities, checkedConditions, dispatch, toggleMenu }) {\n  const blockList = cities.map((city, index) => (\n    <li className=\"nav__li\" key={city.name}>\n      <input\n        id={city.name}\n        type=\"checkbox\"\n        checked={checkedCities[index]}\n        onChange={() => {\n          const tempCheckedCities = checkedCities.slice();\n          tempCheckedCities[index] = !checkedCities[index];\n          if (!checkedCities[index]) setPosition([city.lat, city.lng]);\n          dispatch(toggleCheck(tempCheckedCities));\n          toggleMenu();\n        }}\n      />\n      <label htmlFor={city.name} className=\"nav__label\">\n        {city.displayName}\n      </label>\n    </li>\n  ));\n  const blockConditionList = conditions.map((condition, index) => (\n    <li className=\"nav__li\" key={condition.name}>\n      <input\n        id={condition.name}\n        type=\"checkbox\"\n        checked={checkedConditions[index]}\n        onChange={() => {\n          const tempCheckedConditions = checkedConditions.slice();\n          tempCheckedConditions[index] = !checkedConditions[index];\n          // console.log(tempCheckedConditions, index);\n          dispatch(toggleCondition(tempCheckedConditions));\n          toggleMenu();\n        }}\n      />\n      <label htmlFor={condition.name} className=\"nav__label nav__label--condition\">\n        {condition.displayName}\n      </label>\n    </li>\n  ));\n\n  return (\n    <nav>\n      <ul>\n        {blockConditionList}\n        <br />\n        {blockList}\n      </ul>\n    </nav>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    checkedCities: state.checkedCities,\n    checkedConditions: state.checkedConditions,\n  };\n}\n\nexport default connect(mapStateToProps)(MenuNav);\n","/* eslint-disable no-param-reassign */\nimport axios from 'axios';\n\nimport { cities } from '../config';\n\nconst { lunr } = window;\nconst indexSearch = lunr(function generateLunr() {\n  this.field('name');\n  this.field('address');\n  this.field('strSocket');\n  this.field('quietAways');\n  this.field('wifiGood');\n});\n\nconst arrResultCities = cities.map((city) => {\n  if (city.coffeeShops) {\n    return city;\n  }\n  return { ...city, coffeeShops: [] };\n});\n\nconst getShops = async (city) => {\n  const res = await axios.get(`${process.env.PUBLIC_URL}/cafedata/${city.name}.json`);\n  if (res.data) {\n    res.data.forEach((shop) => {\n      indexSearch.add({\n        ...shop,\n        strSocket: shop && shop.socket === 'yes' ? '插座' : '',\n        quietAways: shop && shop.quiet > 3 ? '安靜' : '',\n        wifiGood: shop && shop.wifi > 3 ? '網路' : '',\n      });\n      // console.log({\n      //   ...shop,\n      //   strSocket: shop && shop.socket === 'yes' ? '插座' : '',\n      //   quietAways: shop && shop.quiet > 3 ? '安靜' : '',\n      //   wifiGood: shop && shop.wifi > 3 ? '網路' : '',\n      // });\n      // indexSearch.add(shop);\n    });\n    city.coffeeShops = res.data;\n    city.checked = true;\n    return city;\n  }\n  return city;\n};\n\nasync function getCoffee(checkedCities) {\n  const coffeeShops = await Promise.all(\n    checkedCities.map((isChecked, index) => {\n      if (isChecked && !arrResultCities[index].coffeeShops.length) {\n        // console.log('get', arrResultCities[index].name);\n        const res = getShops(arrResultCities[index]);\n        return res;\n      }\n      if (!isChecked) arrResultCities[index].checked = false;\n      if (isChecked) arrResultCities[index].checked = true;\n      return arrResultCities[index];\n    }),\n  );\n  let tempShops = [];\n  // console.log(coffeeShops);\n  coffeeShops.forEach((coffeeShop) => {\n    if (coffeeShop.checked) tempShops = tempShops.concat(coffeeShop.coffeeShops);\n  });\n  return tempShops;\n}\n\nasync function searchWithKeyWord(keyWord) {\n  let finalResult = [];\n  if (keyWord.toString().trim() !== '') {\n    const results = await indexSearch.search(keyWord);\n    if (results && results.length) {\n      const searchResults = results.map((result) => result.ref);\n      let tempShops = [];\n      arrResultCities\n        .filter((city) => city.checked)\n        .forEach((city) => {\n          tempShops = tempShops.concat(city.coffeeShops);\n        });\n      tempShops = tempShops.filter((coffeeShop) => searchResults.indexOf(coffeeShop.id) !== -1);\n\n      finalResult = tempShops;\n    }\n  }\n  return finalResult;\n}\n\nconst APICoffee = {\n  getCoffee,\n  searchWithKeyWord,\n};\n\nexport default APICoffee;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport APICoffee from '../api/APICoffee';\nimport { conditions } from '../config';\n\nfunction SearchElastic({ onHover, checkedConditions, nowItem, toggleCondition }) {\n  let blockCards = '';\n  const inputEl = useRef(null);\n  const intPageSize = 10;\n  const [page, setPage] = useState(1);\n  const [items, setItems] = useState([]);\n  const [displayItems, setDisplayItems] = useState([]);\n  const [strInput, setStrInput] = useState('');\n  const strCheckedConditions = conditions\n    .filter((condition, index) => checkedConditions[index])\n    .map((condition) => condition.displayName)\n    .join(' ');\n\n  const searchWithKeyword = useCallback(\n    async (event) => {\n      if (event) event.preventDefault();\n      const result = await APICoffee.searchWithKeyWord(`${strCheckedConditions} ${strInput}`);\n      setItems(result);\n    },\n    [strCheckedConditions, strInput],\n  );\n\n  function handleChange(event) {\n    setStrInput(event.target.value);\n  }\n\n  function handleKeyPress(event) {\n    if (event.key === 'Enter') {\n      inputEl.current.blur();\n    }\n  }\n\n  function onSelect(item) {\n    if (item && nowItem && item.id !== nowItem.id) {\n      // console.log(item);\n      onHover(item);\n      inputEl.current.blur();\n    }\n  }\n\n  function clearSearch() {\n    toggleCondition();\n    setStrInput('');\n    setDisplayItems([]);\n  }\n\n  function handleScroll(e) {\n    if (e.target.scrollTop > e.target.clientHeight * page && items.length > intPageSize * page) {\n      setPage(page + 1);\n    }\n  }\n\n  useEffect(() => {\n    if (strInput === '') {\n      searchWithKeyword();\n    }\n  }, [strInput, searchWithKeyword]);\n\n  useEffect(() => {\n    if (strCheckedConditions !== '') {\n      searchWithKeyword();\n    }\n  }, [strCheckedConditions, searchWithKeyword]);\n\n  useEffect(() => {\n    if (items.length) {\n      setDisplayItems(items.slice(0, intPageSize * page));\n    }\n  }, [items, page]);\n\n  if (displayItems.length) {\n    blockCards = displayItems.map((item) => (\n      <div\n        role=\"presentation\"\n        key={item.id}\n        className=\"card\"\n        onClick={() => {\n          onSelect(item);\n          inputEl.current.blur();\n        }}\n        onFocus={() => {\n          onSelect(item);\n        }}\n        // onMouseOver={() => {\n        //   onSelect(item);\n        // }}\n        onTouchMove={() => {\n          onSelect(item);\n        }}\n        // onPointerOver={() => {\n        //   onSelect(item);\n        // }}\n      >\n        <h4>{item.name}</h4>\n        <ul>\n          <li>\n            <ol>\n              {item.limited_time === 'no' ? <li>無限時</li> : ''}\n              {item.socket !== '' || item.socket !== 'no' ? <li>插座</li> : ''}\n              {item.wifi > 3 ? <li>WIFI</li> : ''}\n              {item.quiet > 3 ? <li>較安靜</li> : ''}\n              {item.cheap > 3 ? <li>較便宜</li> : ''}\n            </ol>\n          </li>\n          <li>{`地址:${item.address}`}</li>\n          {item.open_time ? <li>{`營業時間: ${item.open_time}`}</li> : ''}\n          <li>\n            <a href={item.url}>粉絲專頁</a>\n          </li>\n        </ul>\n      </div>\n    ));\n  }\n  let placeholderCondition = '輸入店名 地址';\n  if (strCheckedConditions) {\n    placeholderCondition = `查詢條件:${strCheckedConditions}`;\n  }\n  let blockSearch = (\n    <button type=\"submit\" className=\"btn search__button\" onClick={searchWithKeyword}>\n      <svg viewBox=\"0 0 100 100\">\n        <circle id=\"circle\" cx=\"45\" cy=\"45\" r=\"30\" />\n        <path id=\"line\" d=\"M45,45 L100,100\" />\n      </svg>\n    </button>\n  );\n\n  if (strInput !== '' || strCheckedConditions !== '') {\n    blockSearch = (\n      <button type=\"button\" className=\"btn search__button\" onClick={clearSearch}>\n        <span>✕</span>\n      </button>\n    );\n  }\n\n  return (\n    <form onSubmit={searchWithKeyword}>\n      <input\n        value={strInput}\n        onChange={handleChange}\n        ref={inputEl}\n        onClick={() => {\n          searchWithKeyword();\n        }}\n        onKeyPress={handleKeyPress}\n        placeholder={`${placeholderCondition}`}\n      />\n      <div className=\"search__result\" onScroll={handleScroll}>\n        {blockCards}\n      </div>\n      {blockSearch}\n    </form>\n  );\n}\n\nexport default SearchElastic;\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport Map from '../components/Map';\n// import Search from '../components/Search';\nimport MenuBtn from '../components/MenuBtn';\nimport MenuNav from './MenuNav';\n\nimport '../styles/search.scss';\nimport { toggleMenu, toggleCondition } from '../actions';\nimport APICoffee from '../api/APICoffee';\nimport SearchElastic from '../components/SearchElastic';\n\n// eslint-disable-next-line no-shadow\nfunction Layout({ isMenuOpen, checkedCities, checkedConditions, toggleMenu, toggleCondition }) {\n  const [item, setItem] = useState({\n    name: '搜尋想去的咖啡店~',\n    address: '顯示地址及粉專',\n  });\n  const [position, setPosition] = useState({ lng: 121.5598, lat: 25.08 });\n  const [items, setItems] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const itemCoffee = item;\n  let itemsCoffee = items;\n  const strClassMenuOpen = isMenuOpen ? 'menu-open' : '';\n\n  let blockLoading = '';\n\n  function getStars(num) {\n    switch (num) {\n      case 5:\n        return '★★★★★';\n      case 4:\n        return '★★★★';\n      case 3:\n        return '★★★';\n      case 2:\n        return '★★';\n      default:\n        return '★';\n    }\n  }\n\n  function handleHover(_item) {\n    if (item && _item && item.id !== _item.id) {\n      setItem(_item);\n    }\n  }\n\n  function handleSelect(_item) {\n    // console.log(_item);\n    if (item && _item && item.id !== _item.id) {\n      setItem(_item);\n    }\n    toggleCondition();\n  }\n\n  async function getCoffee(nowCheckedCities) {\n    setIsLoading(true);\n    // console.log('loading');\n    const arrResult = await APICoffee.getCoffee(nowCheckedCities);\n    // console.log('loading done');\n    setIsLoading(false);\n    setItems(arrResult);\n  }\n\n  useEffect(() => {\n    getCoffee(checkedCities);\n  }, [checkedCities]);\n\n  if (items.length === 0) {\n    itemsCoffee = [\n      {\n        lat: 24.8,\n        lng: 121.023,\n        popup: '<div><span>目前尚未選擇任何地點<br/>請按左方功能鍵進入選單選擇XD<br/></span></div>',\n      },\n    ];\n  } else {\n    itemsCoffee = items.map((nowItemCoffee) => {\n      const { latitude, longitude, name, address, wifi, seat, quiet, tasty, cheap, music } =\n        nowItemCoffee;\n      return {\n        lat: parseFloat(latitude),\n        lng: parseFloat(longitude),\n        popup: `<div>\n            <span style=${{ fontWeight: 800, fontSize: '16px' }}>${name}</span><br /> \n            <span>\n            ${address}<br />\n            ${wifi > 0 ? `WIFI穩定: ${getStars(wifi)}` : ''} ${wifi > 0 ? '<br />' : ''}\n            ${seat > 0 ? `通常有位:  ${getStars(seat)}` : ''} ${seat > 0 ? '<br />' : ''}\n            ${quiet > 0 ? `安靜程度:  ${getStars(quiet)}` : ''} ${quiet > 0 ? '<br />' : ''}\n            ${tasty > 0 ? `咖啡好喝:  ${getStars(tasty)}` : ''} ${tasty > 0 ? '<br />' : ''}\n            ${cheap > 0 ? `價格便宜:  ${getStars(cheap)}` : ''} ${cheap > 0 ? '<br />' : ''}\n            ${music > 0 ? `裝潢音樂:  ${getStars(music)}` : ''} ${music > 0 ? '<br />' : ''}\n            </span>\n            ${item.url ? `<a href=${item.url}>粉絲專頁</a>` : ''}\n          </div>`,\n      };\n    });\n  }\n\n  if (isLoading) {\n    blockLoading = (\n      <div className=\"loading__overlay\">\n        <div className=\"loading__content\">\n          <div className=\"loader\">Loading...</div>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"app\">\n      {blockLoading}\n      <div className={strClassMenuOpen}>\n        <div className=\"search-container\">\n          {/* <Search items={items} onChange={handleSelect} /> */}\n          <SearchElastic\n            nowItem={item}\n            toggleCondition={toggleCondition}\n            checkedConditions={checkedConditions}\n            onChange={handleSelect}\n            onHover={handleHover}\n          />\n        </div>\n        <MenuNav toggleMenu={toggleMenu} setPosition={setPosition} />\n        <MenuBtn toggleMenu={toggleMenu} />\n      </div>\n      <Map\n        position={position}\n        item={itemCoffee}\n        items={itemsCoffee}\n        isMenuOpen={isMenuOpen}\n        toggleMenu={toggleMenu}\n      />\n    </div>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    isMenuOpen: state.isMenuOpen,\n    checkedCities: state.checkedCities,\n    checkedConditions: state.checkedConditions,\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  //\n  toggleCondition: () => dispatch(toggleCondition()),\n  toggleMenu: () => dispatch(toggleMenu()),\n});\n\nLayout.defaultProps = {\n  name: 'Gary',\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout);\n","const isMenuOpen = (state = false, action) => {\n  switch (action.type) {\n    case 'TOGGLE_MENU':\n      return !state;\n    default:\n      return state;\n  }\n};\n\nexport default isMenuOpen;\n","const item = (\n  state = {\n    name: '搜尋想去的咖啡店~',\n    address: '顯示地址及粉專',\n  },\n  action,\n) => {\n  switch (action.type) {\n    case 'SELECT_PLACE':\n      return {\n        name: '搜尋想去的咖啡店~1',\n        address: '顯示地址及粉專',\n      };\n    default:\n      return state;\n  }\n};\n\nexport default item;\n","const items = (state = [], action) => {\n  switch (action.type) {\n    case 'ALL_PLACE':\n      return [...state];\n    default:\n      return state;\n  }\n};\n\nexport default items;\n","import { cities } from '../config';\n\nconst defaultCheckedCities = cities.map((city) => city.checked);\n\nconst checkedCities = (state = defaultCheckedCities, action) => {\n  switch (action.type) {\n    case 'TOGGLE_CHECK': {\n      const newState = [...action.payload];\n      return newState;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default checkedCities;\n","import { conditions } from '../config';\n\nconst defaultCheckedConditions = conditions.map((condition) => condition.checked);\n\nconst checkedConditions = (state = defaultCheckedConditions, action) => {\n  switch (action.type) {\n    case 'TOGGLE_CONDITION': {\n      const newState = action.payload ? [...action.payload] : defaultCheckedConditions;\n      return newState;\n    }\n    default:\n      return state;\n  }\n};\n\nexport default checkedConditions;\n","import { combineReducers } from 'redux';\n\nimport isMenuOpen from './isMenuOpen';\nimport item from './item';\nimport items from './items';\n\nimport checkedCities from './checkedCities';\nimport checkedConditions from './checkedConditions';\n\nconst mapApp = combineReducers({\n  checkedCities,\n  checkedConditions,\n  isMenuOpen,\n  item,\n  items,\n});\n\nexport default mapApp;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\n// Logger with default options\nimport { createLogger } from 'redux-logger';\nimport thunkMiddleware from 'redux-thunk';\nimport Layout from './containers/Layout';\n\nimport './styles/index.scss';\n\nimport reducer from './reducers';\n\n// FIXME: WORKAROUND\nif (!window.process) window.process = {};\n\nconst loggerMiddleware = createLogger();\nconst middlewares =\n  process.env.NODE_ENV === 'development' ? [loggerMiddleware, thunkMiddleware] : [thunkMiddleware];\nconst composeEnhancers =\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n        // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\n      })\n    : compose;\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(...middlewares),\n  // other store enhancers if any\n);\nconst store = createStore(reducer, enhancer);\n\nrender(\n  <Provider store={store}>\n    <Layout />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}